<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>TIMER</title>

  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <div class="container">
      <p id="timer">00:00:00</p>

        <div>
            <button id="start_stop" class="btn">START</button>
        </div>
  <div>
  <script>
    var start;
    var timer_id;
    var addZero = function(value) {
      if (value < 10) {
        value = "0" + value;
      };
      return value;
    };

    document.getElementById("start_stop").addEventListener("click" , function() {
      start = new Date();
      if (this.innerHTML=="START") {
        this.innerHTML='STOP'
        this.classList.remove("btn");
        this.classList.add("btn_danger");
        timer_id = setInterval(goTimer, 10);
      } else {
        clearInterval(timer_id);
        this.innerHTML='START'
        this.classList.remove("btn_danger");
        this.classList.add("btn");
      }
    });

    var goTimer = function() {
      var now = new Date();
      var milli = now.getTime() - start.getTime();
      var seconds = Math.floor(milli / 1000);
      var minutes = Math.floor(seconds / 60);
      var hours = Math.floor(minutes / 60);

      seconds = seconds - minutes * 60;
      minutes = minutes - hours * 60;

      hours = addZero(hours);
      minutes = addZero(minutes);
      seconds = addZero(seconds);

      document.getElementById("timer").innerHTML=hours + ":" + minutes + ":" + seconds;
    }
  </script>
</body>
</html>
